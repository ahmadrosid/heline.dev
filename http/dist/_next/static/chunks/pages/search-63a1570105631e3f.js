(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8161:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(9256)}])},9256:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var s=n(5893),a=n(9008),l=n(1163),r=n(7294);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,r.useRef)(!1),s=(0,r.useRef)(),a=(0,r.useRef)(e),l=(0,r.useCallback)((function(){return n.current}),[]),i=(0,r.useCallback)((function(){n.current=!1,s.current&&clearTimeout(s.current),s.current=setTimeout((function(){n.current=!0,a.current()}),t)}),[t]),c=(0,r.useCallback)((function(){n.current=null,s.current&&clearTimeout(s.current)}),[]);return(0,r.useEffect)((function(){a.current=e}),[e]),(0,r.useEffect)((function(){return i(),c}),[t]),[l,c,i]}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,a,l=[],r=!0,i=!1;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(l.push(s.value),!t||l.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==n.return||n.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(7516),d=n(3750);function h(e){var t=e.updateMatchingSearch,n=e.tbm,a=void 0===n?"":n,l=function(e){return e===a?"flex items-center py-2 gap-2 border-b-[3px] border-emerald-500 text-emerald-600":"flex items-center py-2 gap-2 text-gray-700 border-white border-b-[3px] hover:border-emerald-500 hover:text-emerald-600 hover:transition-all duration-500"};return(0,s.jsxs)("div",{className:"w-full flex",children:[(0,s.jsx)("div",{className:"w-full max-w-[25%]"}),(0,s.jsxs)("div",{className:"w-full px-8 pt-3 flex gap-5",children:[(0,s.jsxs)("button",{onClick:function(){return t("code")},className:l(""===a?"":"code"),children:[(0,s.jsx)(u.MiE,{className:"text-xl"}),(0,s.jsx)("span",{className:"text-xs",children:"Code"})]}),(0,s.jsxs)("button",{onClick:function(){return t("docs")},className:l("docs"),children:[(0,s.jsx)(u.KuV,{className:"text-xl"}),(0,s.jsx)("span",{className:"text-xs",children:"Documentation"})]}),(0,s.jsxs)("button",{onClick:function(){return t("stf")},className:l("stf"),children:[(0,s.jsx)(d.yDg,{className:"text-xl"}),(0,s.jsx)("span",{className:"text-xs",children:"Stack Overflow"})]}),(0,s.jsxs)("button",{onClick:function(){return t("blog")},className:l("blog"),children:[(0,s.jsx)(u.p3K,{className:"text-xl"}),(0,s.jsx)("span",{className:"text-xs",children:"Blog"})]})]})]})}function x(e){var t=e.setVal,n=e.q;return(0,s.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[(0,s.jsx)("div",{className:"w-full max-w-[25%]",children:(0,s.jsx)("div",{className:"text-emerald-500 flex items-center gap-x-2 px-4",children:(0,s.jsx)("a",{href:"/",children:(0,s.jsxs)("h1",{className:"text-2xl font-extrabold text-gray-900 dark:text-white sm:text-center inline-flex items-center select-none",children:[(0,s.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-emerald-500 to-teal-600",children:"heline"}),(0,s.jsx)("span",{children:"."}),(0,s.jsx)("span",{className:"text-gray-700",children:"dev"})]})})})}),(0,s.jsxs)("div",{className:"flex px-4 rounded shadow-sm border bg-white items-center justify-between w-full mr-8 mx-4",children:[(0,s.jsx)("span",{className:"text-gray-500 select-none text-xl pr-4",children:(0,s.jsx)(u.wTD,{})}),(0,s.jsx)("input",{onChange:function(e){t(encodeURIComponent(e.target.value))},autoFocus:!0,spellCheck:!1,defaultValue:n,type:"text",placeholder:"Search",className:"py-3 flex-grow text-gray-900 dark:bg-black dark:text-white border-none outline-none focus:outline-none focus:ring-0 autofill:shadow-fill-white dark:autofill:shadow-fill-black"})]})]})}function m(e){return r.Children.toArray(e)}function f(e){var t,n,a,l,r,i,c,o=e.hits,u=e.filter,d=e.updateFilter,h=e.isLoading,x=void 0!==h&&h,f=function(e){var t=String(e);if(t.includes("/")){var n=t.split("/");return 2==n.length?t:n.slice(Math.max(n.length-2,1)).join("/")}return e};return(0,s.jsxs)(s.Fragment,{children:[x&&(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"relative w-full bg-gray-200",children:(0,s.jsx)("div",{style:{width:"100%"},className:"absolute top-0 h-1 shim-red"})})}),!x&&(0,s.jsx)("div",{className:"h-1"}),o&&(0,s.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex",children:[(0,s.jsxs)("div",{className:"w-full min-w-[250px] max-w-[25%] py-4 space-y-4 pl-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-gray-800 uppercase",children:"Repository"}),(0,s.jsx)("div",{className:"py-2 space-y-1",children:m(null===(t=o.facets)||void 0===t||null===(n=t.repo)||void 0===n?void 0:n.buckets.map((function(e,t){var n;return(0,s.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,s.jsxs)("div",{className:"inline-flex gap-2 items-center truncate",children:[(0,s.jsx)("input",{onChange:function(){return function(e){0!=o.facets.repo.buckets.length&&d("repo",e)}(t)},id:e.val,className:"p-2",type:"checkbox",checked:null===(n=u.repo)||void 0===n?void 0:n.includes(e.val)}),(0,s.jsx)("label",{className:"truncate",htmlFor:e.val,children:e.val})]}),(0,s.jsx)("div",{className:"text-sm",children:e.count})]})})))})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,s.jsx)("h3",{className:"text-gray-800 uppercase",children:"Path"}),(0,s.jsx)("div",{className:"py-2 space-y-1",children:m(null===(a=o.facets)||void 0===a||null===(l=a.path)||void 0===l?void 0:l.buckets.map((function(e,t){var n;return(0,s.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center truncate",children:[(0,s.jsx)("input",{onChange:function(){return function(e){0!=o.facets.path.buckets.length&&d("path",e)}(t)},className:"p-2",type:"checkbox",checked:null===(n=u.path)||void 0===n?void 0:n.includes(e.val)}),(0,s.jsx)("label",{className:"truncate",children:f(e.val)})]}),(0,s.jsx)("div",{className:"text-sm",children:e.count})]})})))})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,s.jsx)("h3",{className:"text-gray-800 uppercase",children:"Language"}),(0,s.jsx)("div",{className:"py-2 space-y-1",children:m(null===(r=o.facets)||void 0===r||null===(i=r.lang)||void 0===i?void 0:i.buckets.map((function(e,t){var n;return(0,s.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("input",{onChange:function(){return function(e){0!=o.facets.lang.buckets.length&&d("lang",e)}(t)},className:"p-2",type:"checkbox",checked:null===(n=u.lang)||void 0===n?void 0:n.includes(e.val)}),(0,s.jsx)("label",{children:e.val})]}),(0,s.jsx)("div",{className:"text-sm",children:e.count})]})})))})]})]}),(0,s.jsxs)("div",{className:"w-full max-w-[75%] py-4 px-8 pr-6",children:[(0,s.jsx)("div",{className:"pb-2",children:(0,s.jsxs)("p",{className:"text-gray-700",children:["Total: ",o.total]})}),m(null===(c=o.hits)||void 0===c?void 0:c.map((function(e){var t,n,a,l;if(null!==e.content.snippet)return(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("a",{target:"_blank",href:"https://github.com/".concat(null===(t=e.repo)||void 0===t?void 0:t.raw),className:"flex gap-2 items-center",children:[(0,s.jsx)("img",{className:"repo-avatar rounded-full border",src:"https://avatars.githubusercontent.com/u/".concat(e.owner_id.raw,"?s=60&amp;v=4"),alt:"",width:"22",height:"22"}),(0,s.jsx)("span",{className:"text-gray-700 font-light",children:null===(n=e.repo)||void 0===n?void 0:n.raw})]}),(0,s.jsx)("a",{target:"_blank",href:"https://github.com/".concat(null===(a=e.repo)||void 0===a?void 0:a.raw,"/blob/").concat(e.branch.raw,"/").concat(e.file_id.raw.split("/").slice(4,100).join("/")),className:"flex gap-1 items-center",children:(0,s.jsx)("span",{className:"text-emerald-500 pl-8 truncate",children:e.file_id.raw.split("/").slice(2,100).join("/")})})]}),(0,s.jsx)("div",{className:"border border-zinc-200 rounded-md bg-white p-2 my-2",children:m(null===(l=e.content.snippet)||void 0===l?void 0:l.map((function(t,n){if(0!==t.length){var a=[],l=0,r="";if(t.split("\n").forEach((function(e){l++,r+=e,4===l&&(r.includes("<mark>")&&a.push(r),r="",l=0)})),""!==r&&r.includes("<mark>")&&a.push(r),0!=a.length)return a=a.slice(0,3),(0,s.jsx)(s.Fragment,{children:m(a.map((function(t,l){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("table",{className:"highlight-table",children:(0,s.jsx)("tbody",{dangerouslySetInnerHTML:{__html:t}})}),l<a.length&&n<e.content.snippet.length-1&&(0,s.jsx)("div",{className:"bg-zinc-100 h-6 my-[8px] -mx-2"})]})})))})}})))})]})})))]})]})]})}var p=n(9669),v=n.n(p),g=function(e){var t=e.setHits,n=e.setNotFound,s=e.setIsLoading,a=(0,l.useRouter)();return function(e,l){var r,i,c;if(""!=e){if(null==l){if(a.query["filter[repo]"]){var o=Object.assign(l||{},{repo:a.query["filter[repo]"].split(",")});l=o}if(a.query["filter[lang]"]){var u=Object.assign(l||{},{lang:a.query["filter[lang]"].split(",")});l=u}if(a.query["filter[path]"]){var d=Object.assign(l||{},{path:a.query["filter[path]"].split(",")});l=d}null!=l&&setFilter((function(){return l}))}var h=e;(null===l||void 0===l||null===(r=l.repo)||void 0===r?void 0:r.length)>0&&(h+="&filter[repo]=".concat(l.repo.join(","))),(null===l||void 0===l||null===(i=l.lang)||void 0===i?void 0:i.length)>0&&(h+="&filter[lang]=".concat(l.lang.join(","))),(null===l||void 0===l||null===(c=l.path)||void 0===c?void 0:c.length)>0&&(h+="&filter[path]=".concat(l.path.join(","))),s(!0),v().get("https://heline.dev/api/search?q=".concat(h)).then((function(e){s(!1),null===e.data.hits.hits?(n(!0),t(null)):(n(!1),t(e.data.hits))})).catch((function(e){s(!1),n(!0),t(null)})),a.push("search?q=".concat(h))}}},j=function(e){var t=e.setHits,n=e.setNotFound,s=e.setIsLoading,a=(0,l.useRouter)();return function(e){if(""!=e){var l=e;l.includes("&tbm=docs")||(l+="&tbm=docs"),s(!0),v().get("http://localhost:8000/api/search?q=".concat(l)).then((function(e){s(!1),null===e.data.docs.hits?(n(!0),t(null)):(n(!1),t(e.data.docs))})).catch((function(e){s(!1),n(!0),t(null),console.log(e)})),a.push("search?q=".concat(l))}}},y=n(155),b=function(e){var t=e.setHits,n=e.setNotFound,s=e.setIsLoading;(0,l.useRouter)();return function(e){if(""!=e){var a="?tbm=docs&id=".concat(e);s(!0),v().get("http://localhost:8000/api/search".concat(a)).then((function(e){s(!1),null===e.data?(n(!0),t(null)):(n(!1),t(e.data))})).catch((function(e){s(!1),n(!0),t(null),console.log(e)}))}}};function N(e){var t=e.children;return(0,s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,s.jsx)("div",{className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all duration-500 w-full max-w-7xl",children:(0,s.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:t})})]})})}var w=n(471);function k(e){var t,n,a=e.data,i=(0,l.useRouter)().query.q,c=void 0===i?"":i,o=(0,r.useState)(null),u=o[0],d=o[1],h=(0,r.useState)(null),x=(h[0],h[1]),f=(0,r.useState)(null),p=(f[0],f[1]),v=b({setHits:d,setNotFound:x,setIsLoading:p});!function(e){var t=function(t){t.key===e&&(a(!0),d(null))},n=(0,r.useState)(!1),s=n[0],a=n[1],l=function(t){t.key===e&&a(!1)};(0,r.useEffect)((function(){return window.addEventListener("keydown",t),window.addEventListener("keyup",l),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",l)}}),[])}("Escape");return(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsx)(N,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-gray-100 -m-6 p-2 rounded-t-md",children:[(0,s.jsx)("div",{className:"px-2",children:(0,s.jsx)("h1",{className:"font-medium text-xl",children:u.title})}),(0,s.jsx)("div",{className:"cursor-pointer p-2",onClick:function(){return d(null)},children:(0,s.jsx)(w.dc5,{className:"text-2xl text-gray-700"})})]}),(0,s.jsx)("div",{className:"modal-docset",dangerouslySetInnerHTML:{__html:u.content.join("").replace(c,"<mark>".concat(c,"</mark>"))}})]})}),(0,s.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex py-2",children:[(0,s.jsx)("div",{className:"w-full min-w-[250px] max-w-[25%] py-4 space-y-4 pl-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-gray-800 font-medium uppercase",children:"Document"}),(0,s.jsx)("div",{className:"py-2 space-y-1",children:m(null===(t=a.facets)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.buckets.map((function(e,t){return(0,s.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,s.jsxs)("div",{className:"inline-flex gap-2 items-center truncate",children:[(0,s.jsx)("input",{id:e.val,className:"p-2",type:"checkbox"}),(0,s.jsx)("label",{className:"truncate",htmlFor:e.val,children:e.val})]}),(0,s.jsx)("div",{className:"text-sm",children:e.count})]})})))})]})}),(0,s.jsx)("div",{className:"px-4",children:m(a.hits.map((function(e){var t;return(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("h2",{className:"text-gray-800 font-mono font-semibold pb-1 text-xl",children:null===(t=e.title)||void 0===t?void 0:t.raw}),(0,s.jsx)("div",{onClick:function(){return t=e.id.raw,void v(t);var t},className:"highlight-docset cursor-pointer",children:m(e.content.snippet.map((function(t,n){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),n<e.content.snippet.length-1&&(0,s.jsx)("div",{className:"bg-zinc-100 h-4 my-[8px] -mx-2"})]})})))})]})})))})]})]})}function S(e){var t=e.hits,n=e.isLoading,a=void 0!==n&&n;return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"relative w-full bg-gray-200",children:(0,s.jsx)("div",{style:{width:"100%"},className:"absolute top-0 h-1 shim-red"})})}),!a&&(0,s.jsx)("div",{className:"h-1"}),t&&(0,s.jsx)(k,{data:t})]})}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,a,l=[],r=!0,i=!1;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(l.push(s.value),!t||l.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==n.return||n.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(){var e=(0,l.useRouter)(),t=e.query,n=t.q,c=void 0===n?"":n,u=t.tbm,d=void 0===u?"":u,m=(0,r.useState)(!1),p=m[0],v=m[1],b=(0,r.useState)(""),N=b[0],w=b[1],k=(0,r.useState)(null),C=k[0],L=k[1],q=(0,r.useState)(null),E=q[0],F=q[1],I=(0,r.useState)(!1),A=I[0],T=I[1],M=(0,r.useState)({repo:[],lang:[],path:[]}),O=M[0],R=M[1],H=g({setHits:L,setNotFound:v,setIsLoading:T}),z=j({setHits:F,setNotFound:v,setIsLoading:T});_(function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=o(i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),3),s=n[0],a=n[1],l=n[2];return(0,r.useEffect)(l,t),[s,a]}((function(){""!=N&&("code"!==d&&""!==d||H(N,O),"docs"===d&&z(N))}),500,[N]),2)[1];return(0,r.useEffect)((function(){""===c||C||(w(c),"code"!==d&&""!==d||H(N,null),"docs"===d&&z(N))}),[c]),(0,s.jsxs)("div",{className:"bg-zinc-50 min-h-screen h-full",children:[(0,s.jsxs)(a.default,{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),(0,s.jsx)("title",{children:"".concat(c," - heline")}),(0,s.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png"}),(0,s.jsx)("script",{defer:!0,"data-domain":"heline.dev",src:"https://plausible.io/js/plausible.js"})]}),(0,s.jsx)("nav",{className:"bg-white shadow-sm",children:(0,s.jsxs)("div",{className:"pt-6 w-full max-w-7xl mx-auto",children:[(0,s.jsx)(x,{setVal:w,q:c}),(0,s.jsx)(h,{updateMatchingSearch:function(t){var n=e.pathname,s=e.query;s.tbm=t,e.push({pathname:n,query:s}),null===E&&z(N)},tbm:d})]})}),("code"===d||""===d)&&(0,s.jsx)(f,{hits:C,filter:O,updateFilter:function(e,t){var n=C.facets[e].buckets[t].val;R((function(t){var s,a,l=t;if(null===(s=t[e])||void 0===s?void 0:s.includes(n)){var r=t[e].filter((function(e){return e!=n}));return l[e]=r,H(N,l),l}return null===(a=l[e])||void 0===a||a.push(n),N.tbm=d,H(N,l),l}))},isLoading:A}),"docs"===d&&(0,s.jsx)(S,{hits:E,isLoading:A}),p&&!A&&(0,s.jsxs)("div",{className:"grid place-items-center pt-32 space-y-8",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,s.jsxs)("div",{className:"text-center text-lg text-gray-600",children:["Can not find matching query ",(0,s.jsxs)("strong",{children:['"',c,'"']}),"."]})]}),("docsx"===d||"stf"===d||"blog"===d)&&(0,s.jsxs)("div",{className:"grid place-items-center pt-32 space-y-4",children:[(0,s.jsx)(y.wkh,{className:"text-9xl text-emerald-400"}),(0,s.jsx)("div",{className:"text-center text-4xl text-gray-600",children:(0,s.jsx)("span",{className:"font-medium",children:"Coming soon!"})})]})]})}}},function(e){e.O(0,[874,260,955,13,491,774,888,179],(function(){return t=8161,e(e.s=t);var t}));var t=e.O();_N_E=t}]);