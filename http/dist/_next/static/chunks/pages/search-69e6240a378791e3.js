(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8161:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(6489)}])},6489:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(5893),a=n(9008),s=n(1163),l=n(7294);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,l.useRef)(!1),r=(0,l.useRef)(),a=(0,l.useRef)(e),s=(0,l.useCallback)((function(){return n.current}),[]),i=(0,l.useCallback)((function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){n.current=!0,a.current()}),t)}),[t]),c=(0,l.useCallback)((function(){n.current=null,r.current&&clearTimeout(r.current)}),[]);return(0,l.useEffect)((function(){a.current=e}),[e]),(0,l.useEffect)((function(){return i(),c}),[t]),[s,c,i]}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(c){i=!0,a=c}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(7516),d=n(3750);function h(e){var t=e.updateMatchingSearch,n=e.tbm,a=void 0===n?"":n,s=function(e){return e===a?"flex items-center py-2 gap-2 border-b-[3px] border-emerald-500 text-emerald-600":"flex items-center py-2 gap-2 text-gray-700 border-white border-b-[3px] hover:border-emerald-500 hover:text-emerald-600 hover:transition-all duration-500"};return(0,r.jsxs)("div",{className:"w-full flex",children:[(0,r.jsx)("div",{className:"w-full max-w-[25%]"}),(0,r.jsxs)("div",{className:"w-full px-8 pt-3 flex gap-5",children:[(0,r.jsxs)("button",{onClick:function(){return t("code")},className:s(""===a?"":"code"),children:[(0,r.jsx)(u.MiE,{className:"text-xl"}),(0,r.jsx)("span",{className:"text-xs",children:"Code"})]}),(0,r.jsxs)("button",{onClick:function(){return t("docs")},className:s("docs"),children:[(0,r.jsx)(u.KuV,{className:"text-xl"}),(0,r.jsx)("span",{className:"text-xs",children:"Documentation"})]}),(0,r.jsxs)("button",{onClick:function(){return t("stf")},className:s("stf"),children:[(0,r.jsx)(d.yDg,{className:"text-xl"}),(0,r.jsx)("span",{className:"text-xs",children:"Stack Overflow"})]}),(0,r.jsxs)("button",{onClick:function(){return t("blog")},className:s("blog"),children:[(0,r.jsx)(u.p3K,{className:"text-xl"}),(0,r.jsx)("span",{className:"text-xs",children:"Blog"})]})]})]})}function x(e){var t=e.setVal,n=e.q;return(0,r.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[(0,r.jsx)("div",{className:"w-full max-w-[25%]",children:(0,r.jsx)("div",{className:"text-emerald-500 flex items-center gap-x-2 px-4",children:(0,r.jsx)("a",{href:"/",children:(0,r.jsxs)("h1",{className:"text-2xl font-extrabold text-gray-900 dark:text-white sm:text-center inline-flex items-center select-none",children:[(0,r.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-emerald-500 to-teal-600",children:"heline"}),(0,r.jsx)("span",{children:"."}),(0,r.jsx)("span",{className:"text-gray-700",children:"dev"})]})})})}),(0,r.jsxs)("div",{className:"flex px-4 rounded shadow-sm border bg-white items-center justify-between w-full mr-8 mx-4",children:[(0,r.jsx)("span",{className:"text-gray-500 select-none text-xl pr-4",children:(0,r.jsx)(u.wTD,{})}),(0,r.jsx)("input",{onChange:function(e){t(encodeURIComponent(e.target.value))},autoFocus:!0,spellCheck:!1,defaultValue:n,type:"text",placeholder:"Search",className:"py-3 flex-grow text-gray-900 dark:bg-black dark:text-white border-none outline-none focus:outline-none focus:ring-0 autofill:shadow-fill-white dark:autofill:shadow-fill-black"})]})]})}function f(e){return l.Children.toArray(e)}function p(e){var t,n,a,s,l,i,c,o=e.hits,u=e.filter,d=e.updateFilter,h=e.isLoading,x=void 0!==h&&h,p=function(e){var t=String(e);if(t.includes("/")){var n=t.split("/");return 2==n.length?t:n.slice(Math.max(n.length-2,1)).join("/")}return e};return(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsx)("div",{class:"flex flex-col",children:(0,r.jsx)("div",{class:"relative w-full bg-gray-200",children:(0,r.jsx)("div",{style:{width:"100%"},class:"absolute top-0 h-1 shim-red"})})}),!x&&(0,r.jsx)("div",{className:"h-1"}),o&&(0,r.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex",children:[(0,r.jsxs)("div",{className:"w-full min-w-[250px] max-w-[25%] py-4 space-y-4 pl-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-gray-800 uppercase",children:"Repository"}),(0,r.jsx)("div",{className:"py-2 space-y-1",children:f(null===(t=o.facets)||void 0===t||null===(n=t.repo)||void 0===n?void 0:n.buckets.map((function(e,t){var n;return(0,r.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,r.jsxs)("div",{className:"inline-flex gap-2 items-center truncate",children:[(0,r.jsx)("input",{onChange:function(){return function(e){0!=o.facets.repo.buckets.length&&d("repo",e)}(t)},id:e.val,className:"p-2",type:"checkbox",checked:null===(n=u.repo)||void 0===n?void 0:n.includes(e.val)}),(0,r.jsx)("label",{className:"truncate",htmlFor:e.val,children:e.val})]}),(0,r.jsx)("div",{className:"text-sm",children:e.count})]})})))})]}),(0,r.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,r.jsx)("h3",{className:"text-gray-800 uppercase",children:"Path"}),(0,r.jsx)("div",{className:"py-2 space-y-1",children:f(null===(a=o.facets)||void 0===a||null===(s=a.path)||void 0===s?void 0:s.buckets.map((function(e,t){var n;return(0,r.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center truncate",children:[(0,r.jsx)("input",{onChange:function(){return function(e){0!=o.facets.path.buckets.length&&d("path",e)}(t)},className:"p-2",type:"checkbox",checked:null===(n=u.path)||void 0===n?void 0:n.includes(e.val)}),(0,r.jsx)("label",{className:"truncate",children:p(e.val)})]}),(0,r.jsx)("div",{className:"text-sm",children:e.count})]})})))})]}),(0,r.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,r.jsx)("h3",{className:"text-gray-800 uppercase",children:"Language"}),(0,r.jsx)("div",{className:"py-2 space-y-1",children:f(null===(l=o.facets)||void 0===l||null===(i=l.lang)||void 0===i?void 0:i.buckets.map((function(e,t){var n;return(0,r.jsxs)("div",{className:"flex justify-between items-center text-gray-600 pr-1",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("input",{onChange:function(){return function(e){0!=o.facets.lang.buckets.length&&d("lang",e)}(t)},className:"p-2",type:"checkbox",checked:null===(n=u.lang)||void 0===n?void 0:n.includes(e.val)}),(0,r.jsx)("label",{children:e.val})]}),(0,r.jsx)("div",{className:"text-sm",children:e.count})]})})))})]})]}),(0,r.jsxs)("div",{className:"w-full max-w-[75%] py-4 px-8 pr-6",children:[(0,r.jsx)("div",{className:"pb-2",children:(0,r.jsxs)("p",{className:"text-gray-700",children:["Total: ",o.total]})}),f(null===(c=o.hits)||void 0===c?void 0:c.map((function(e){var t;if(null!==e.content.snippet)return(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("a",{target:"_blank",href:"https://github.com/".concat(e.repo.raw),className:"flex gap-2 items-center",children:[(0,r.jsx)("img",{className:"repo-avatar rounded-full border",src:"https://avatars.githubusercontent.com/u/".concat(e.owner_id.raw,"?s=60&amp;v=4"),alt:"",width:"22",height:"22"}),(0,r.jsx)("span",{className:"text-gray-700 font-light",children:e.repo.raw})]}),(0,r.jsx)("a",{target:"_blank",href:"https://github.com/".concat(e.repo.raw,"/blob/").concat(e.branch.raw,"/").concat(e.file_id.raw.split("/").slice(4,100).join("/")),className:"flex gap-1 items-center",children:(0,r.jsx)("span",{className:"text-emerald-500 pl-8 truncate",children:e.file_id.raw.split("/").slice(2,100).join("/")})})]}),(0,r.jsx)("div",{className:"border border-zinc-200 rounded-md bg-white p-2 my-2",children:f(null===(t=e.content.snippet)||void 0===t?void 0:t.map((function(t,n){if(0!==t.length){var a=[],s=0,l="";if(t.split("\n").forEach((function(e){s++,l+=e,4===s&&(l.includes("<mark>")&&a.push(l),l="",s=0)})),""!==l&&l.includes("<mark>")&&a.push(l),0!=a.length)return a=a.slice(0,3),(0,r.jsx)(r.Fragment,{children:f(a.map((function(t,s){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("table",{className:"highlight-table",children:(0,r.jsx)("tbody",{dangerouslySetInnerHTML:{__html:t}})}),s<a.length&&n<e.content.snippet.length-1&&(0,r.jsx)("div",{className:"bg-zinc-100 h-8 my-[8px] -mx-2"})]})})))})}})))})]})})))]})]})]})}var m=n(9669),v=n.n(m),g=function(e){var t=e.setHits,n=e.setNotFound,r=e.setIsLoading,a=(0,s.useRouter)();return function(e,s){var l,i,c;if(""!=e){if(null==s){if(a.query["filter[repo]"]){var o=Object.assign(s||{},{repo:a.query["filter[repo]"].split(",")});s=o}if(a.query["filter[lang]"]){var u=Object.assign(s||{},{lang:a.query["filter[lang]"].split(",")});s=u}if(a.query["filter[path]"]){var d=Object.assign(s||{},{path:a.query["filter[path]"].split(",")});s=d}null!=s&&setFilter((function(){return s}))}var h=e;(null===s||void 0===s||null===(l=s.repo)||void 0===l?void 0:l.length)>0&&(h+="&filter[repo]=".concat(s.repo.join(","))),(null===s||void 0===s||null===(i=s.lang)||void 0===i?void 0:i.length)>0&&(h+="&filter[lang]=".concat(s.lang.join(","))),(null===s||void 0===s||null===(c=s.path)||void 0===c?void 0:c.length)>0&&(h+="&filter[path]=".concat(s.path.join(","))),r(!0),v().get("https://heline.dev/api/search?q=".concat(h)).then((function(e){r(!1),null===e.data.hits.hits?(n(!0),t(null)):(n(!1),t(e.data.hits))})).catch((function(e){r(!1),n(!0),t(null)})),a.push("search?q=".concat(h))}}},j=n(155);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(c){i=!0,a=c}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(){var e=(0,s.useRouter)(),t=e.query,n=t.q,c=void 0===n?"":n,u=t.tbm,d=void 0===u?"":u,f=(0,l.useState)(!1),m=f[0],v=f[1],y=(0,l.useState)(""),N=y[0],w=y[1],k=(0,l.useState)(null),C=k[0],S=k[1],_=(0,l.useState)(!1),q=_[0],A=_[1],E=(0,l.useState)({repo:[],lang:[],path:[]}),F=E[0],I=E[1],O=g({setHits:S,setNotFound:v,setIsLoading:A});b(function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=o(i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),3),r=n[0],a=n[1],s=n[2];return(0,l.useEffect)(s,t),[r,a]}((function(){""!=N&&O(N,F)}),500,[N]),2)[1];return(0,l.useEffect)((function(){""===c||C||(w(c),O(c,null))}),[c]),(0,r.jsxs)("div",{className:"bg-zinc-50 min-h-screen h-full",children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),(0,r.jsx)("title",{children:"".concat(c," - heline")}),(0,r.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png"}),(0,r.jsx)("script",{defer:!0,"data-domain":"heline.dev",src:"https://plausible.io/js/plausible.js"})]}),(0,r.jsx)("nav",{className:"bg-white shadow-sm",children:(0,r.jsxs)("div",{className:"pt-6 w-full max-w-7xl mx-auto",children:[(0,r.jsx)(x,{setVal:w,q:c}),(0,r.jsx)(h,{updateMatchingSearch:function(t){var n=e.pathname,r=e.query;r.tbm=t,e.push({pathname:n,query:r}),console.log(r)},tbm:d})]})}),("code"===d||""===d)&&(0,r.jsx)(p,{hits:C,filter:F,updateFilter:function(e,t){var n=C.facets[e].buckets[t].val;I((function(t){var r,a,s=t;if(null===(r=t[e])||void 0===r?void 0:r.includes(n)){var l=t[e].filter((function(e){return e!=n}));return s[e]=l,O(N,s),s}return null===(a=s[e])||void 0===a||a.push(n),N.tbm=d,O(N,s),s}))},isLoading:q}),m&&!q&&(0,r.jsxs)("div",{className:"grid place-items-center pt-32 space-y-8",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,r.jsxs)("div",{className:"text-center text-lg text-gray-600",children:["Can not find matching query ",(0,r.jsxs)("strong",{children:['"',c,'"']}),"."]})]}),("docs"===d||"stf"===d||"blog"===d)&&(0,r.jsxs)("div",{className:"grid place-items-center pt-32 space-y-4",children:[(0,r.jsx)(j.wkh,{className:"text-9xl text-emerald-400"}),(0,r.jsx)("div",{className:"text-center text-4xl text-gray-600",children:(0,r.jsx)("span",{className:"font-medium",children:"Coming soon!"})})]})]})}}},function(e){e.O(0,[874,260,13,491,774,888,179],(function(){return t=8161,e(e.s=t);var t}));var t=e.O();_N_E=t}]);